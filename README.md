# 외국인 근로자 컴플라이언스 관리 시스템

> **"까먹어서 과태료 맞는 일 없게"**  
> 외국인 근로자 고용 시 발생하는 복잡한 법적 의무를 자동으로 추적하고 관리하는 도구

---

## 📑 목차

| 섹션 | 바로가기 |
|------|----------|
| **프로젝트 소개** | [취지](#-프로젝트-취지) · [아키텍처](#-아키텍처) · [기술 스택](#기술-스택) |
| **현재 상황** | [구현 완료](#-현재-상황-mvp-v01) · [진행 예정](#-진행-예정) |
| **법적 근거** | [국민연금](#1-국민연금-적용-정책) · [고용보험](#2-고용보험-적용-정책) · [건강보험](#3-건강보험-적용-정책) · [산재보험](#4-산재보험-적용-정책) · [고용변동 신고](#5-고용변동-신고-의무) |
| **개발** | [Git Flow](./GIT_FLOW.md) · [기여하기](./CONTRIBUTING.md) |
| **시작하기** | [로컬 실행](#-시작하기) · [API 테스트](#api-테스트) |
| **변경 로그** | [2026년 2월 업데이트](#-주요-변경사항-로그) |

---

## 🎯 프로젝트 취지

### 문제 인식

한국의 중소제조업은 **외국인 근로자 없이는 하루도 돌아가지 않는** 상황입니다.  
2026년 기준 외국인 취업자 100만명 돌파, 고용허가제 도입 20년 — 하지만 관리는 여전히 **엑셀과 수기**에 의존합니다.

**사업주들이 겪는 현실:**
- ❌ **비자 만료일 놓침** → 불법체류 → 사업주 처벌
- ❌ **고용변동 신고 15일 기한** 초과 → **100만원 과태료**
- ❌ **4대보험 가입 기준** 복잡함 (국적×비자×사회보장협정)
- ❌ **서류 관리** 분산 → 누락 발생

> **2025년 중기중앙회 조사:** 외국인 근로자 고용 사업주의 31.6%가 "복잡한 신청절차"를 최대 불만으로 꼽음

### 우리의 해결책

**외국인 근로자 등록 → 자동으로:**
1. ✓ **4대보험 가입 의무** 자동 판단 (국적×비자 유형)
2. ✓ **컴플라이언스 데드라인** 자동 추적 (비자 만료, 신고 기한)
3. ✓ **위험 알림** 대시보드 제공 (D-90, D-30, D-7)

---

## 🏗️ 아키텍처

### 핵심 도메인 모델

```
┌─────────────────┐     ┌─────────────────────────┐
│  ForeignWorker  │────▶│  InsuranceEligibility   │
│  - PersonalInfo │     │  (Policy 패턴)          │
│  - VisaInfo     │     │                         │
│  - Employment   │     │  국적×비자 → 4대보험     │
└─────────────────┘     └─────────────────────────┘
           │
           ▼
┌─────────────────────────┐
│  ComplianceDeadline     │
│                         │
│  - 비자 만료 추적        │
│  - 신고 기한 알림        │
└─────────────────────────┘
```

### 기술 스택

| 레이어 | 기술 |
|--------|------|
| **Language** | Java 21 (LTS) |
| **Framework** | Spring Boot 3.3 |
| **ORM** | Spring Data JPA |
| **Database** | H2 (개발) / PostgreSQL (예정) |
| **Build** | Gradle |
| **Test** | JUnit 5, AssertJ |

---

## 📊 현재 상황 (MVP v0.1)

### ✅ 구현 완료

#### 1. 보험 판단 엔진 (Insurance Domain)
```java
// 국적 + 비자 → 4대보험 가입 의무 자동 판단
베트남(E-9)  → 국민연금: 의무, 고용보험: 임의
미국(E-7)    → 국민연금: 면제 (사회보장협정), 고용보험: 임의
F-6(결혼이민) → 전부 의무 (내국인과 동일)
```

- **Policy 패턴** 적용: 4개 보험별 독립적 규칙 엔진
- **사회보장협정** 반영: 미국, 캐나다, 호주 등 7개국 면제 처리
- **비자 유형별** 고용보험 분기: F-2/F-5/F-6만 의무가입

#### 2. 컴플라이언스 추적 (Compliance Domain)
- **데드라인 상태 자동 계산:**
  - D-90 이상: PENDING (파랑)
  - D-30 이내: APPROACHING (노랑)
  - D-7 이내: URGENT (빨강)
  - 기한 초과: OVERDUE (검정)

#### 3. REST API
| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/workers` | POST | 근로자 등록 + 보험판단 + 데드라인 생성 |
| `/api/compliance/overdue` | GET | 기한초과 데드라인 조회 |
| `/api/compliance/upcoming` | GET | 임박 데드라인 조회 (기본 30일) |
| `/api/compliance/worker/{id}` | GET | 특정 근로자 데드라인 |

#### 4. 테스트 커버리지 (22개 테스트 통과)
- **단위 테스트:** Insurance Policy (9개), ComplianceDeadline (6개)
- **통합 테스트:** Worker 등록 (3개), Dashboard (3개)
- **컨트롤러 테스트:** REST API (1개)

---

## ⚖️ 구현된 정책 및 법적 근거

### 1. 국민연금 적용 정책

#### 적용 원칙
| 대상 | 적용 여부 | 근거 |
|------|----------|------|
| **일반 외국인** (사회보장협정 미체결국) | **의무가입** | 국민연금법 제6조, 제9조 |
| **사회보장협정 체결국** (미국, 캐나다, 호주 등 7개국) | **면제** | 국민연금법 제8조의2, 사회보장협정 |
| **체류자격 제한** (외교관 등) | **제외** | 국민연금법 제9조제2항 |

#### 법적 근거
- **국민연금법 제8조의2** (사회보장협정에 따른 연금 가입 면제)
- **국민연금법 시행령 제6조** (외국인 적용 제외 대상)
- **사회보장협정:** 한-미, 한-캐나다, 한-호주, 한-뉴질랜드, 한-영국, 한-독일, 한-프랑스 협정

```java
// NationalPensionPolicy 구현
if (worker.hasSocialSecurityAgreement()) {
    return InsuranceEligibility.EXEMPT;  // 사회보장협정 체결국 면제
}
return InsuranceEligibility.MANDATORY;   // 그 외 의무가입
```

---

### 2. 고용보험 적용 정책

#### 적용 원칙
| 체류자격 | 적용 여부 | 근거 |
|----------|----------|------|
| **F-2 (거주)** | **의무가입** | 고용보험법 제10조의2, 시행령 제3조의3 |
| **F-5 (영주)** | **의무가입** | 고용보험법 제10조의2, 시행령 제3조의3 |
| **F-6 (결혼이민)** | **의무가입** | 고용보험법 제10조의2, 시행령 제3조의3 |
| **E-9, H-2, E-7 등** | **임의가입** | 고용보험법 제10조의2 단서 |

#### 법적 근거
- **고용보험법 제10조의2** (외국인근로자 등의 피보험자격)
- **고용보험법 시행령 제3조의3** (외국인근로자 등의 정의)
- **고용보험 및 산재보험의 보험료징수 등에 관한 법률** 제10조

```java
// EmploymentInsurancePolicy 구현
if (visaType == F2 || visaType == F5 || visaType == F6) {
    return InsuranceEligibility.MANDATORY;  // 거주/영주/결혼이민 의무
}
return InsuranceEligibility.OPTIONAL;       // 그 외 임의가입
```

---

### 3. 건강보험 적용 정책

#### 적용 원칙
| 대상 | 적용 여부 | 근거 |
|------|----------|------|
| **모든 외국인 근로자** | **의무가입** | 국민건강보험법 제5조 |
| **외국정부 의료보장 수혜자** | **제외 가능** | 국민건강보험법 제6조제2항 |

#### 법적 근거
- **국민건강보험법 제5조** (외국인의 건강보험 적용)
- **국민건강보험법 제6조** (적용 제외 대상)
- **국민건강보험법 시행령 제5조** (외국인 적용 제외 요건)

```java
// HealthInsurancePolicy 구현
return InsuranceEligibility.MANDATORY;  // 외국인 근로자 전원 의무가입
```

---

### 4. 산재보험 적용 정책

#### 적용 원칙
| 대상 | 적용 여부 | 근거 |
|------|----------|------|
| **모든 외국인 근로자** | **의무가입** | 산업재핵보상보험법 제5조 |
| **체류자격 불문** | **무조건 적용** | 내국인과 동일 |

#### 법적 근거
- **산업재핵보상보험법 제5조** (외국인근로자의 보험적용)
- **산업재핵보상보험법 시행령 제4조** (보험가입 신청)

```java
// IndustrialAccidentPolicy 구현
return InsuranceEligibility.MANDATORY;  // 외국인 근로자 전원 의무가입
```

---

### 5. 고용변동 신고 의무

#### 신고 기한
| 변동 사유 | 신고 기한 | 과태료 | 근거 |
|-----------|----------|--------|------|
| **근로계약 해지** | 사유 발생일로부터 **15일 이내** | 100만원 이하 | 외국인근로자법 제17조 |
| **사망** | 사유 발생일로부터 **15일 이내** | 100만원 이하 | 외국인근로자법 제17조 |
| **휴·폐업** | 사유 발생일로부터 **15일 이내** | 100만원 이하 | 외국인근로자법 제17조 |
| **5일 이상 무단결근** | 인지일로부터 **15일 이내** | 100만원 이하 | 외국인근로자법 제17조 |

#### 법적 근거
- **외국인근로자의 고용 등에 관한 법률 제17조** (고용변동 등의 신고)
- **외국인근로자법 시행령 제23조** (신고 방법 및 절차)
- **외국인근로자법 제30조** (과태료)

```java
// ComplianceDeadline 생성 시 자동 설정
ComplianceDeadline.create(
    workerId,
    DeadlineType.CHANGE_REPORT,
    eventDate.plusDays(15),  // 15일 기한
    "고용변동 신고 의무"
);
```

---

### 6. 비자(체류기간) 만료 추적

#### 관리 기준
| 기간 | 상태 | 조치 |
|------|------|------|
| **D-90** | **사전 알림** | 갱신 준비 |
| **D-30** | **경고** | 갱신 신청 필수 |
| **D-7** | **긴급** | 즉시 조치 |
| **D-0** | **만료** | 불법체류 상태 |

#### 법적 근거
- **출입국관리법 제24조** (체류기간)
- **출입국관리법 제35조** (체류기간 만료자의 출국)
- **외국인근로자법 제20조** (고용허가기간 및 연장)

---

### 7. 사회보장협정 체결국 현황

| 국가 | 협정 체결일 | 주요 내용 |
|------|------------|----------|
| **미국** | 2000년 | 연금 가입 면제, 가입 기간 합산 |
| **캐나다** | 1999년 | 연금 가입 면제, 가입 기간 합산 |
| **호주** | 2006년 | 연금 가입 면제, 가입 기간 합산 |
| **뉴질랜드** | 2006년 | 연금 가입 면제, 가입 기간 합산 |
| **영국** | 2000년 | 연금 가입 면제, 가입 기간 합산 |
| **독일** | 2003년 | 연금 가입 면제, 가입 기간 합산 |
| **프랑스** | 2004년 | 연금 가입 면제, 가입 기간 합산 |

#### 법적 근거
- **사회보장협정** (각국별 조약)
- **국민연금법 제8조의2** (협정에 따른 가입 면제)

---

### ⚠️ 면책 조항

본 시스템은 **참고용**으로 제공됩니다.  
- 모든 정책은 **2025년 기준** 법률을 반영합니다.
- 법 개정 시 **업데이트가 필요**합니다.
- 최종적인 법적 판단은 **관계 법률 전문가**와 상담하세요.
- 본 시스템 사용으로 인한 **법적 책임은 사용자에게** 있습니다.

**최종 업데이트:** 2026년 2월  
**다음 검토 예정:** 2026년 6월 (고용허가제 개편안 반영)

---

## 📋 주요 변경사항 로그

### 2026년 2월 업데이트

#### ✅ 사회보장협정 42개국 전체 반영
- **기존:** 7개국 (미국, 캐나다, 호주, 뉴질랜드, 영국, 독일, 프랑스)
- **변경:** 42개국 전체
  - **신규:** 베트남(2024.1), 일본(2005.2), 아르헨티나(2025.2) 및 유럽 32개국
  - **영향:** 국민연금 면제 대상 국적자 정확한 판단 가능

#### ✅ E-8 계절근로자 비자 추가 (2026.2.15 시행)
- **도입:** 농업·어업 계절근로자 전용 비자
- **특이사항:** 3대 의묘보험 적용 (임금척부보증보험, 농어업인안전보험, 상하보험)
- **계도기간:** 2026.2.15 ~ 2027.2.14 (처벌 유예)

#### ⚠️ 알려진 제한사항
- E-8 계절근로자의 3대 의묘보험은 현재 고용보험 외 별도 관리 필요
- 다음 버전에서 별도 보험 유형으로 분리 예정

---

### 🚧 진행 예정

| 우선순위 | 기능 | 예상 일정 |
|----------|------|----------|
| **P0** | 프론트엔드 (Next.js) | 1-2주 |
| **P1** | PostgreSQL 마이그레이션 | 1주 |
| **P2** | 알림 기능 (Email/SMS) | 1주 |
| **P3** | 정부 서식 자동 생성 | 2주 |
| **P4** | 다국어 지원 (근로자용) | 2주 |

---

## 👨‍💻 개발 워크플로우

이 프로젝트는 **Git Flow** 브랜치 전략을 사용합니다.

### 브랜치 구조

| 브랜치 | 설명 | 사용법 |
|--------|------|--------|
| **main** | 프로덕션 배포 | 직접 푸시 금지, PR만 |
| **develop** | 통합 개발 브랜치 | feature 브랜치 병합 대상 |
| **feature/** | 새로운 기능 개발 | `feature/add-mysql-support` |
| **hotfix/** | 긴급 버그 수정 | `hotfix/fix-encoding` |

### 기여하기

```bash
# 1. develop 브랜치에서 시작
git checkout develop
git pull origin develop

# 2. feature 브랜치 생성
git checkout -b feature/your-feature-name

# 3. 작업 후 커밋
git add .
git commit -m "[FEATURE] 설명"

# 4. 원격에 푸시
git push origin feature/your-feature-name

# 5. GitHub에서 Pull Request 생성 (feature → develop)
```

자세한 내용은 [GIT_FLOW.md](./GIT_FLOW.md)와 [CONTRIBUTING.md](./CONTRIBUTING.md)를 참조하세요.

---

## 🚀 시작하기

### 로컬 실행

```bash
# 저장소 클론
git clone https://github.com/Mo-bile/foreign-worker-management.git
cd foreign-worker-management

# 빌드 및 테스트
./gradlew build

# 애플리케이션 실행
./gradlew bootRun

# API 테스트
curl -X POST http://localhost:8080/api/workers \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Nguyen Van A",
    "nationalityCode": "VIETNAM",
    "visaType": "E9",
    "visaExpiryDate": "2026-12-31",
    "entryDate": "2024-01-15",
    "contractStartDate": "2024-02-01",
    "workplaceId": 1
  }'
```

### H2 콘솔
- URL: `http://localhost:8080/h2-console`
- JDBC URL: `jdbc:h2:mem:fwcdb`

---

## 🎯 차별화 포인트

### 1. 도메인 전문성
- **노동법 + 사회보험법** 전공 지식 기반 설계
- **2025년 법 개정** 반영 (고용허가제 개편안)

### 2. OOP 설계 철학
- **협력/책임/역할** 분리: `InsuranceEligibilityPolicy` 인터페이스
- **객체지향 생활체조 9원칙** 준수:
  - 한 줄에 한 점만 (Law of Demeter)
  - 인스턴스 변수 2개 이하 (PersonalInfo, VisaInfo 등 분리)
  - getter/setter 지양 → 의도를 드러내는 메서드

### 3. 시장 타이밍
- **2025-2026 정부 개편:** 외국인 사업장 이동 완화, 장기근속 특례 신설
- **규칙 복잡도 증가 → 도구 수요 증가**

---

## 📈 시장 규모

| 지표 | 수치 |
|------|------|
| 외국인 취업자 | 100만+ (2025년) |
| 고용허가제 사업주 | 5만+ 기업 |
| 과태료 발생 건수 | 연간 2,000+ 건 |
| 타겟 시장 (B2B SaaS) | 연 300억+ 추정 |

---

## 📝 라이선스

MIT License

---

## 🤝 기여

이 프로젝트는 **노동법 학습 경험**과 **OOP 개발 철학**의 결합으로 만들어졌습니다.  
외국인 근로자 관련 법률 정보에 오류가 있거나 개선 사항이 있다면 Issue로 알려주세요.

**Contact:**  
프로젝트 개발자 (노동법 공부한 개발자)

---

> **"외국인 근로자 없인 하루도 못 버티는데, 관리는 엑셀로?"**  
> 이제 자동화합시다.

## 테스트
GitHub Actions 자동화 파이프라인 테스트 중
