# 외국인 근로자 컴플라이언스 관리 시스템

> **"까먹어서 과태료 맞는 일 없게"**  
> 외국인 근로자 고용 시 발생하는 복잡한 법적 의무를 자동으로 추적하고 관리하는 도구

---

## 🎯 프로젝트 취지

### 문제 인식

한국의 중소제조업은 **외국인 근로자 없이는 하루도 돌아가지 않는** 상황입니다.  
2025년 기준 외국인 취업자 100만명 돌파, 고용허가제 도입 20년 — 하지만 관리는 여전히 **엑셀과 수기**에 의존합니다.

**사업주들이 겪는 현실:**
- ❌ **비자 만료일 놓침** → 불법체류 → 사업주 처벌
- ❌ **고용변동 신고 15일 기한** 초과 → **100만원 과태료**
- ❌ **4대보험 가입 기준** 복잡함 (국적×비자×사회보장협정)
- ❌ **서류 관리** 분산 → 누락 발생

> **2025년 중기중앙회 조사:** 외국인 근로자 고용 사업주의 31.6%가 "복잡한 신청절차"를 최대 불만으로 꼽음

### 우리의 해결책

**외국인 근로자 등록 → 자동으로:**
1. ✓ **4대보험 가입 의무** 자동 판단 (국적×비자 유형)
2. ✓ **컴플라이언스 데드라인** 자동 추적 (비자 만료, 신고 기한)
3. ✓ **위험 알림** 대시보드 제공 (D-90, D-30, D-7)

---

## 🏗️ 아키텍처

### 핵심 도메인 모델

```
┌─────────────────┐     ┌─────────────────────────┐
│  ForeignWorker  │────▶│  InsuranceEligibility   │
│  - PersonalInfo │     │  (Policy 패턴)          │
│  - VisaInfo     │     │                         │
│  - Employment   │     │  국적×비자 → 4대보험     │
└─────────────────┘     └─────────────────────────┘
           │
           ▼
┌─────────────────────────┐
│  ComplianceDeadline     │
│                         │
│  - 비자 만료 추적        │
│  - 신고 기한 알림        │
└─────────────────────────┘
```

### 기술 스택

| 레이어 | 기술 |
|--------|------|
| **Language** | Java 21 (LTS) |
| **Framework** | Spring Boot 3.3 |
| **ORM** | Spring Data JPA |
| **Database** | H2 (개발) / PostgreSQL (예정) |
| **Build** | Gradle |
| **Test** | JUnit 5, AssertJ |

---

## 📊 현재 상황 (MVP v0.1)

### ✅ 구현 완료

#### 1. 보험 판단 엔진 (Insurance Domain)
```java
// 국적 + 비자 → 4대보험 가입 의무 자동 판단
베트남(E-9)  → 국민연금: 의무, 고용보험: 임의
미국(E-7)    → 국민연금: 면제 (사회보장협정), 고용보험: 임의
F-6(결혼이민) → 전부 의무 (내국인과 동일)
```

- **Policy 패턴** 적용: 4개 보험별 독립적 규칙 엔진
- **사회보장협정** 반영: 미국, 캐나다, 호주 등 7개국 면제 처리
- **비자 유형별** 고용보험 분기: F-2/F-5/F-6만 의무가입

#### 2. 컴플라이언스 추적 (Compliance Domain)
- **데드라인 상태 자동 계산:**
  - D-90 이상: PENDING (파랑)
  - D-30 이내: APPROACHING (노랑)
  - D-7 이내: URGENT (빨강)
  - 기한 초과: OVERDUE (검정)

#### 3. REST API
| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/workers` | POST | 근로자 등록 + 보험판단 + 데드라인 생성 |
| `/api/compliance/overdue` | GET | 기한초과 데드라인 조회 |
| `/api/compliance/upcoming` | GET | 임박 데드라인 조회 (기본 30일) |
| `/api/compliance/worker/{id}` | GET | 특정 근로자 데드라인 |

#### 4. 테스트 커버리지 (22개 테스트 통과)
- **단위 테스트:** Insurance Policy (9개), ComplianceDeadline (6개)
- **통합 테스트:** Worker 등록 (3개), Dashboard (3개)
- **컨트롤러 테스트:** REST API (1개)

---

### 🚧 진행 예정

| 우선순위 | 기능 | 예상 일정 |
|----------|------|----------|
| **P0** | 프론트엔드 (Next.js) | 1-2주 |
| **P1** | PostgreSQL 마이그레이션 | 1주 |
| **P2** | 알림 기능 (Email/SMS) | 1주 |
| **P3** | 정부 서식 자동 생성 | 2주 |
| **P4** | 다국어 지원 (근로자용) | 2주 |

---

## 🚀 시작하기

### 로컬 실행

```bash
# 저장소 클론
git clone https://github.com/Mo-bile/foreign-worker-management.git
cd foreign-worker-management

# 빌드 및 테스트
./gradlew build

# 애플리케이션 실행
./gradlew bootRun

# API 테스트
curl -X POST http://localhost:8080/api/workers \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Nguyen Van A",
    "nationalityCode": "VIETNAM",
    "visaType": "E9",
    "visaExpiryDate": "2026-12-31",
    "entryDate": "2024-01-15",
    "contractStartDate": "2024-02-01",
    "workplaceId": 1
  }'
```

### H2 콘솔
- URL: `http://localhost:8080/h2-console`
- JDBC URL: `jdbc:h2:mem:fwcdb`

---

## 🎯 차별화 포인트

### 1. 도메인 전문성
- **노동법 + 사회보험법** 전공 지식 기반 설계
- **2025년 법 개정** 반영 (고용허가제 개편안)

### 2. OOP 설계 철학
- **협력/책임/역할** 분리: `InsuranceEligibilityPolicy` 인터페이스
- **객체지향 생활체조 9원칙** 준수:
  - 한 줄에 한 점만 (Law of Demeter)
  - 인스턴스 변수 2개 이하 (PersonalInfo, VisaInfo 등 분리)
  - getter/setter 지양 → 의도를 드러내는 메서드

### 3. 시장 타이밍
- **2025-2026 정부 개편:** 외국인 사업장 이동 완화, 장기근속 특례 신설
- **규칙 복잡도 증가 → 도구 수요 증가**

---

## 📈 시장 규모

| 지표 | 수치 |
|------|------|
| 외국인 취업자 | 100만+ (2025년) |
| 고용허가제 사업주 | 5만+ 기업 |
| 과태료 발생 건수 | 연간 2,000+ 건 |
| 타겟 시장 (B2B SaaS) | 연 300억+ 추정 |

---

## 📝 라이선스

MIT License

---

## 🤝 기여

이 프로젝트는 **노동법 학습 경험**과 **OOP 개발 철학**의 결합으로 만들어졌습니다.  
외국인 근로자 관련 법률 정보에 오류가 있거나 개선 사항이 있다면 Issue로 알려주세요.

**Contact:**  
프로젝트 개발자 (노동법 공부한 개발자)

---

> **"외국인 근로자 없인 하루도 못 버티는데, 관리는 엑셀로?"**  
> 이제 자동화합시다.
